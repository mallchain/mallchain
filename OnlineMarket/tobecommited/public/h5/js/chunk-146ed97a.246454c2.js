(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-146ed97a"],{"5f10":function(t,s,n){t.exports=n.p+"h5/img/noCoupon.e524084b.png"},b701:function(t,s,n){"use strict";n.r(s);var i=function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{ref:"container"},[t.couponsList.length>0?n("div",{staticClass:"coupon-list"},t._l(t.couponsList,(function(s,i){return n("div",{key:i,staticClass:"item acea-row row-center-wrapper"},[n("div",{staticClass:"money",class:s.is_use?"moneyGray":""},[t._v(" ￥"),n("span",{staticClass:"num"},[t._v(t._s(s.coupon_price))])]),n("div",{staticClass:"text"},[n("div",{staticClass:"condition line1"},[t._v(" 购物满"+t._s(s.use_min_price)+"元可用 ")]),n("div",{staticClass:"data acea-row row-between-wrapper"},[0!==s.end_time?n("div",[t._v(" "+t._s(s.start_time?s.start_time+"-":"")+t._s(s.end_time)+" ")]):n("div",[t._v("不限时")]),!0===s.is_use?n("div",{staticClass:"bnt gray"},[t._v("已领取")]):2===s.is_use?n("div",{staticClass:"bnt gray"},[t._v("已领完")]):n("div",{staticClass:"bnt bg-color-red",on:{click:function(n){return t.getCoupon(s.id,i)}}},[t._v(" 立即领取 ")])])])])})),0):t._e(),n("Loading",{attrs:{loaded:t.loadend,loading:t.loading}}),0===t.couponsList.length&&t.page>1?n("div",{staticClass:"noCommodity"},[t._m(0)]):t._e()],1)},a=[function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"noPictrue"},[i("img",{staticClass:"image",attrs:{src:n("5f10")}})])}],e=n("c24f"),o=n("3a5e"),c={name:"getCoupon",components:{Loading:o["a"]},props:{},data:function(){return{page:1,limit:10,couponsList:[],loading:!1,loadend:!1}},mounted:function(){var t=this;this.getUseCoupons(),this.$scroll(this.$refs.container,(function(){!t.loading&&t.getUseCoupons()}))},methods:{getCoupon:function(t,s){var n=this,i=n.couponsList;Object(e["q"])(t).then((function(){i[s].is_use=!0,n.$dialog.toast({mes:"领取成功"})})).catch((function(t){n.$dialog.toast({mes:t.msg})}))},getUseCoupons:function(){var t=this;if(!t.loading&&!t.loadend){t.loading=!0;var s={page:t.page,limit:t.limit};Object(e["p"])(s).then((function(s){t.loading=!1,t.couponsList.push.apply(t.couponsList,s.data),t.loadend=s.data.length<t.limit,t.page=t.page+1}))}}}},l=c,d=n("2877"),r=Object(d["a"])(l,i,a,!1,null,null,null);s["default"]=r.exports}}]);
//# sourceMappingURL=chunk-146ed97a.246454c2.js.map