{"version":3,"sources":["webpack:///./src/views/shop/EvaluateList.vue?f5a4","webpack:///./src/components/UserEvaluation.vue?89b1","webpack:///src/components/UserEvaluation.vue","webpack:///./src/components/UserEvaluation.vue?75c5","webpack:///./src/components/UserEvaluation.vue","webpack:///./src/views/shop/EvaluateList.vue?be8b","webpack:///src/views/shop/EvaluateList.vue","webpack:///./src/views/shop/EvaluateList.vue?48ef","webpack:///./src/views/shop/EvaluateList.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_l","item","index","key","attrs","avatar","_v","_s","nickname","class","star","add_time","suk","comment","itemn","merchant_reply_content","_e","staticRenderFns","name","props","reply","type","Array","default","data","mounted","methods","component","ref","replyData","reply_star","reply_chance","on","$event","changeType","currentActive","evaluate","num","loadend","loading","components","UserEvaluation","Loading","product_id","navList","page","limit","loadTitle","watch","$route","n","NAME","params","id","$set","getProductReplyCount","getProductReplyList","$scroll","$refs","container","that","res","sum_count","good_count","in_count","poor_count","push","apply","length"],"mappings":"yIAAA,yBAA2nB,EAAG,G,kCCA9nB,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,mBAAmBN,EAAIO,GAAIP,EAAS,OAAE,SAASQ,EAAKC,GAAO,OAAOL,EAAG,MAAM,CAACM,IAAID,EAAMH,YAAY,gBAAgB,CAACF,EAAG,MAAM,CAACE,YAAY,gCAAgC,CAACF,EAAG,MAAM,CAACE,YAAY,WAAW,CAACF,EAAG,MAAM,CAACE,YAAY,QAAQK,MAAM,CAAC,IAAMH,EAAKI,YAAYR,EAAG,MAAM,CAACE,YAAY,uBAAuB,CAACF,EAAG,MAAM,CAACE,YAAY,cAAc,CAACN,EAAIa,GAAGb,EAAIc,GAAGN,EAAKO,aAAaX,EAAG,MAAM,CAACE,YAAY,QAAQU,MAAM,OAASR,EAAKS,WAAWb,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACN,EAAIa,GAAGb,EAAIc,GAAGN,EAAKU,UAAU,IAAIlB,EAAIc,GAAGN,EAAKW,QAAQf,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACN,EAAIa,GAAGb,EAAIc,GAAGN,EAAKY,YAAYhB,EAAG,MAAM,CAACE,YAAY,oBAAoBN,EAAIO,GAAIC,EAAS,MAAE,SAASa,EAAMZ,GAAO,OAAOL,EAAG,MAAM,CAACM,IAAID,EAAMH,YAAY,WAAW,CAACF,EAAG,MAAM,CAACE,YAAY,QAAQK,MAAM,CAAC,IAAMU,UAAa,GAAIb,EAA2B,uBAAEJ,EAAG,MAAM,CAACE,YAAY,SAAS,CAACF,EAAG,OAAO,CAACE,YAAY,kBAAkB,CAACN,EAAIa,GAAG,SAASb,EAAIa,GAAG,IAAIb,EAAIc,GAAGN,EAAKc,wBAAwB,YAAYtB,EAAIuB,UAAS,IACvkCC,EAAkB,GC2BtB,GACEC,KAAM,iBACNC,MAAO,CACLC,MAAO,CACLC,KAAMC,MACNC,QAAS,WAAf,YAGEC,KAAM,WACJ,MAAO,IAETC,QAAS,aACTC,QAAS,ICxCib,I,YCOxbC,EAAY,eACd,EACAnC,EACAyB,GACA,EACA,KACA,KACA,MAIa,OAAAU,E,kDClBf,IAAInC,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAAC+B,IAAI,YAAY7B,YAAY,iBAAiB,CAACF,EAAG,MAAM,CAACE,YAAY,UAAU,CAACF,EAAG,MAAM,CAACE,YAAY,+CAA+C,CAACF,EAAG,MAAM,CAACE,YAAY,sCAAsC,CAACF,EAAG,MAAM,CAACE,YAAY,YAAY,CAACN,EAAIa,GAAG,QAAQT,EAAG,MAAM,CAACE,YAAY,QAAQU,MAAM,OAAShB,EAAIoC,UAAUC,eAAejC,EAAG,MAAM,CAACA,EAAG,OAAO,CAACE,YAAY,kBAAkB,CAACN,EAAIa,GAAGb,EAAIc,GAAGd,EAAIoC,UAAUE,cAAgB,GAAG,OAAOtC,EAAIa,GAAG,mBAAmBT,EAAG,MAAM,CAACE,YAAY,2BAA2BN,EAAIO,GAAIP,EAAW,SAAE,SAASQ,EAAKC,GAAO,OAAOL,EAAG,MAAM,CAACM,IAAID,EAAMH,YAAY,8BAA8BiC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOxC,EAAIyC,WAAWhC,MAAU,CAAED,EAAQ,IAAEJ,EAAG,MAAM,CAACE,YAAY,OAAOU,MAAMhB,EAAI0C,gBAAkBjC,EAAQ,eAAiB,IAAI,CAACT,EAAIa,GAAG,eAAeb,EAAIc,GAAGN,EAAKmC,UAAU,IAAI3C,EAAIc,GAAGN,EAAKoC,KAAK,iBAAiB5C,EAAIuB,UAAS,KAAKnB,EAAG,iBAAiB,CAACO,MAAM,CAAC,MAAQX,EAAI2B,SAASvB,EAAG,UAAU,CAACO,MAAM,CAAC,OAASX,EAAI6C,QAAQ,QAAU7C,EAAI8C,YAAY,IACjlCtB,EAAkB,G,gDCsCtB,iBAEA,GACEC,KAAM,eACNsB,WAAY,CACVC,eAAJ,OACIC,QAAJ,QAEEvB,MAAO,GACPK,KAAM,WACJ,MAAO,CACLmB,WAAY,EACZd,UAAW,GACXe,QAAS,CACf,CAAQ,SAAR,KAAQ,IAAR,GACA,CAAQ,SAAR,KAAQ,IAAR,GACA,CAAQ,SAAR,KAAQ,IAAR,GACA,CAAQ,SAAR,KAAQ,IAAR,IAEMT,cAAe,EACfU,KAAM,EACNC,MAAO,EACP1B,MAAO,GACP2B,UAAW,GACXR,SAAS,EACTD,SAAS,IAGbU,MAAO,CACLC,OADJ,SACA,GACUC,EAAEhC,OAASiC,IACbzD,KAAKiD,WAAajD,KAAKuD,OAAOG,OAAOC,GACrC3D,KAAK4C,SAAU,EACf5C,KAAKmD,KAAO,EACZnD,KAAK4D,KAAK5D,KAAM,QAAS,IACzBA,KAAK6D,uBACL7D,KAAK8D,yBAIX/B,QAAS,WAAX,WACI/B,KAAKiD,WAAajD,KAAKuD,OAAOG,OAAOC,GACrC3D,KAAK6D,uBACL7D,KAAK8D,sBACL9D,KAAK+D,QAAQ/D,KAAKgE,MAAMC,WAAW,YAChC,EAAP,qCAGEjC,QAAS,CACP6B,qBAAsB,WACpB,IAAN,OACM,OAAN,OAAM,CAAN,gCACQK,EAAKN,KAAKM,EAAM,YAAaC,EAAIrC,MACjCoC,EAAKhB,QAAQ,GAAGP,IAAMwB,EAAIrC,KAAKsC,UAC/BF,EAAKhB,QAAQ,GAAGP,IAAMwB,EAAIrC,KAAKuC,WAC/BH,EAAKhB,QAAQ,GAAGP,IAAMwB,EAAIrC,KAAKwC,SAC/BJ,EAAKhB,QAAQ,GAAGP,IAAMwB,EAAIrC,KAAKyC,eAGnCT,oBAAqB,WACnB,IAAN,OACM,IAAII,EAAKrB,UACLqB,EAAKtB,QAAT,CACAsB,EAAKrB,SAAU,EACf,IAAN,mDACM,OAAN,OAAM,CAAN,kCACQqB,EAAKrB,SAAU,EAEfqB,EAAKxC,MAAM8C,KAAKC,MAAMP,EAAKxC,MAAOyC,EAAIrC,MACtCoC,EAAKtB,QAAUuB,EAAIrC,KAAK4C,OAASR,EAAKd,MACtCc,EAAKf,KAAOe,EAAKf,KAAO,OAG5BX,WAAY,SAAhB,GACM,IAAN,OACM0B,EAAKzB,cAAgBjC,EACrB0D,EAAKf,KAAO,EACZe,EAAKtB,SAAU,EACfsB,EAAKN,KAAKM,EAAM,QAAS,IACzBA,EAAKJ,yBCtH8b,I,wBCQrc7B,EAAY,eACd,EACAnC,EACAyB,GACA,EACA,KACA,WACA,MAIa,aAAAU,E","file":"h5/js/chunk-dc44e0ca.d7e817fc.js","sourcesContent":["import mod from \"-!../../../node_modules/_mini-css-extract-plugin@0.8.2@mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/_vue-loader@15.8.3@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.8.3@vue-loader/lib/index.js??vue-loader-options!./EvaluateList.vue?vue&type=style&index=0&id=43782648&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.8.2@mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/_vue-loader@15.8.3@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.8.3@vue-loader/lib/index.js??vue-loader-options!./EvaluateList.vue?vue&type=style&index=0&id=43782648&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"evaluateWtapper\"},_vm._l((_vm.reply),function(item,index){return _c('div',{key:index,staticClass:\"evaluateItem\"},[_c('div',{staticClass:\"pic-text acea-row row-middle\"},[_c('div',{staticClass:\"pictrue\"},[_c('img',{staticClass:\"image\",attrs:{\"src\":item.avatar}})]),_c('div',{staticClass:\"acea-row row-middle\"},[_c('div',{staticClass:\"name line1\"},[_vm._v(_vm._s(item.nickname))]),_c('div',{staticClass:\"start\",class:'star' + item.star})])]),_c('div',{staticClass:\"time\"},[_vm._v(_vm._s(item.add_time)+\" \"+_vm._s(item.suk))]),_c('div',{staticClass:\"evaluate-infor\"},[_vm._v(_vm._s(item.comment))]),_c('div',{staticClass:\"imgList acea-row\"},_vm._l((item.pics),function(itemn,index){return _c('div',{key:index,staticClass:\"pictrue\"},[_c('img',{staticClass:\"image\",attrs:{\"src\":itemn}})])}),0),(item.merchant_reply_content)?_c('div',{staticClass:\"reply\"},[_c('span',{staticClass:\"font-color-red\"},[_vm._v(\"店小二\")]),_vm._v(\"：\"+_vm._s(item.merchant_reply_content)+\"\\n    \")]):_vm._e()])}),0)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"evaluateWtapper\">\r\n    <div class=\"evaluateItem\" v-for=\"(item, index) in reply\" :key=\"index\">\r\n      <div class=\"pic-text acea-row row-middle\">\r\n        <div class=\"pictrue\">\r\n          <img :src=\"item.avatar\" class=\"image\" />\r\n        </div>\r\n        <div class=\"acea-row row-middle\">\r\n          <div class=\"name line1\">{{ item.nickname }}</div>\r\n          <div class=\"start\" :class=\"'star' + item.star\"></div>\r\n        </div>\r\n      </div>\r\n      <div class=\"time\">{{ item.add_time }} {{ item.suk }}</div>\r\n      <div class=\"evaluate-infor\">{{ item.comment }}</div>\r\n      <div class=\"imgList acea-row\">\r\n        <div class=\"pictrue\" v-for=\"(itemn, index) in item.pics\" :key=\"index\">\r\n          <img :src=\"itemn\" class=\"image\" />\r\n        </div>\r\n      </div>\r\n      <div class=\"reply\" v-if=\"item.merchant_reply_content\">\r\n        <span class=\"font-color-red\">店小二</span>：{{\r\n          item.merchant_reply_content\r\n        }}\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  name: \"UserEvaluation\",\r\n  props: {\r\n    reply: {\r\n      type: Array,\r\n      default: () => []\r\n    }\r\n  },\r\n  data: function() {\r\n    return {};\r\n  },\r\n  mounted: function() {},\r\n  methods: {}\r\n};\r\n</script>\r\n","import mod from \"-!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.8.3@vue-loader/lib/index.js??vue-loader-options!./UserEvaluation.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.8.3@vue-loader/lib/index.js??vue-loader-options!./UserEvaluation.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserEvaluation.vue?vue&type=template&id=49332381&\"\nimport script from \"./UserEvaluation.vue?vue&type=script&lang=js&\"\nexport * from \"./UserEvaluation.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/_vue-loader@15.8.3@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"container\",staticClass:\"evaluate-list\"},[_c('div',{staticClass:\"header\"},[_c('div',{staticClass:\"generalComment acea-row row-between-wrapper\"},[_c('div',{staticClass:\"acea-row row-middle font-color-red\"},[_c('div',{staticClass:\"evaluate\"},[_vm._v(\"评分\")]),_c('div',{staticClass:\"start\",class:'star' + _vm.replyData.reply_star})]),_c('div',[_c('span',{staticClass:\"font-color-red\"},[_vm._v(_vm._s(_vm.replyData.reply_chance || 0)+\"%\")]),_vm._v(\"好评率\\n      \")])]),_c('div',{staticClass:\"nav acea-row row-middle\"},_vm._l((_vm.navList),function(item,index){return _c('div',{key:index,staticClass:\"acea-row row-center-wrapper\",on:{\"click\":function($event){return _vm.changeType(index)}}},[(item.num)?_c('div',{staticClass:\"item\",class:_vm.currentActive === index ? 'bg-color-red' : ''},[_vm._v(\"\\n          \"+_vm._s(item.evaluate)+\"(\"+_vm._s(item.num)+\")\\n        \")]):_vm._e()])}),0)]),_c('UserEvaluation',{attrs:{\"reply\":_vm.reply}}),_c('Loading',{attrs:{\"loaded\":_vm.loadend,\"loading\":_vm.loading}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"evaluate-list\" ref=\"container\">\r\n    <div class=\"header\">\r\n      <div class=\"generalComment acea-row row-between-wrapper\">\r\n        <div class=\"acea-row row-middle font-color-red\">\r\n          <div class=\"evaluate\">评分</div>\r\n          <div class=\"start\" :class=\"'star' + replyData.reply_star\"></div>\r\n        </div>\r\n        <div>\r\n          <span class=\"font-color-red\">{{ replyData.reply_chance || 0 }}%</span\r\n          >好评率\r\n        </div>\r\n      </div>\r\n      <div class=\"nav acea-row row-middle\">\r\n        <div\r\n          class=\"acea-row row-center-wrapper\"\r\n          v-for=\"(item, index) in navList\"\r\n          :key=\"index\"\r\n          @click=\"changeType(index)\"\r\n        >\r\n          <div\r\n            class=\"item\"\r\n            :class=\"currentActive === index ? 'bg-color-red' : ''\"\r\n            v-if=\"item.num\"\r\n          >\r\n            {{ item.evaluate }}({{ item.num }})\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <UserEvaluation :reply=\"reply\"></UserEvaluation>\r\n    <Loading :loaded=\"loadend\" :loading=\"loading\"></Loading>\r\n  </div>\r\n</template>\r\n<script>\r\nimport UserEvaluation from \"@components/UserEvaluation\";\r\nimport { getReplyConfig, getReplyList } from \"@api/store\";\r\nimport Loading from \"@components/Loading\";\r\n\r\nlet NAME = \"EvaluateList\";\r\n\r\nexport default {\r\n  name: \"EvaluateList\",\r\n  components: {\r\n    UserEvaluation,\r\n    Loading\r\n  },\r\n  props: {},\r\n  data: function() {\r\n    return {\r\n      product_id: 0,\r\n      replyData: {},\r\n      navList: [\r\n        { evaluate: \"全部\", num: 0 },\r\n        { evaluate: \"好评\", num: 0 },\r\n        { evaluate: \"中评\", num: 0 },\r\n        { evaluate: \"差评\", num: 0 }\r\n      ],\r\n      currentActive: 0,\r\n      page: 1,\r\n      limit: 8,\r\n      reply: [],\r\n      loadTitle: \"\",\r\n      loading: false,\r\n      loadend: false\r\n    };\r\n  },\r\n  watch: {\r\n    $route(n) {\r\n      if (n.name === NAME) {\r\n        this.product_id = this.$route.params.id;\r\n        this.loadend = false;\r\n        this.page = 1;\r\n        this.$set(this, \"reply\", []);\r\n        this.getProductReplyCount();\r\n        this.getProductReplyList();\r\n      }\r\n    }\r\n  },\r\n  mounted: function() {\r\n    this.product_id = this.$route.params.id;\r\n    this.getProductReplyCount();\r\n    this.getProductReplyList();\r\n    this.$scroll(this.$refs.container, () => {\r\n      !this.loading && this.getProductReplyList();\r\n    });\r\n  },\r\n  methods: {\r\n    getProductReplyCount: function() {\r\n      let that = this;\r\n      getReplyConfig(that.product_id).then(res => {\r\n        that.$set(that, \"replyData\", res.data);\r\n        that.navList[0].num = res.data.sum_count;\r\n        that.navList[1].num = res.data.good_count;\r\n        that.navList[2].num = res.data.in_count;\r\n        that.navList[3].num = res.data.poor_count;\r\n      });\r\n    },\r\n    getProductReplyList: function() {\r\n      let that = this;\r\n      if (that.loading) return; //阻止下次请求（false可以进行请求）；\r\n      if (that.loadend) return; //阻止结束当前请求（false可以进行请求）；\r\n      that.loading = true;\r\n      let q = { page: that.page, limit: that.limit, type: that.currentActive };\r\n      getReplyList(that.product_id, q).then(res => {\r\n        that.loading = false;\r\n        //apply();js将一个数组插入另一个数组;\r\n        that.reply.push.apply(that.reply, res.data);\r\n        that.loadend = res.data.length < that.limit; //判断所有数据是否加载完成；\r\n        that.page = that.page + 1;\r\n      });\r\n    },\r\n    changeType: function(index) {\r\n      let that = this;\r\n      that.currentActive = index;\r\n      that.page = 1;\r\n      that.loadend = false;\r\n      that.$set(that, \"reply\", []);\r\n      that.getProductReplyList();\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style scoped>\r\n.noCommodity {\r\n  height: 8rem;\r\n  background-color: #fff;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.8.3@vue-loader/lib/index.js??vue-loader-options!./EvaluateList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.8.3@vue-loader/lib/index.js??vue-loader-options!./EvaluateList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EvaluateList.vue?vue&type=template&id=43782648&scoped=true&\"\nimport script from \"./EvaluateList.vue?vue&type=script&lang=js&\"\nexport * from \"./EvaluateList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./EvaluateList.vue?vue&type=style&index=0&id=43782648&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.8.3@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"43782648\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}